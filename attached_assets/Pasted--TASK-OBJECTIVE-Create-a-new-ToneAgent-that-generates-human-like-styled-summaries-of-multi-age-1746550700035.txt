# ‚úÖ TASK OBJECTIVE
Create a new `ToneAgent` that generates human-like, styled summaries of multi-agent trade decisions and integrates it into the full trade cycle test output.

---

## üîß Implementation Requirements

1. **Agent File**: Create a new agent class `ToneAgent` in `agents/tone_agent.py`.

2. **Input**: It receives all analysis outputs (signal, confidence, reasoning) and the final decision JSON (as passed to TradePlanAgent).

3. **Agent Tone Profiles**: Simulate each agent's unique "voice" when summarizing their input. Include a 1-sentence comment per agent.

4. **Unified Summary**: At the end, generate an ‚Äúoverall tone summary‚Äù that balances all views ‚Äî this acts as the narrator‚Äôs voice.

5. **LLM Call**: Use the Grok model already configured. One LLM call per `ToneAgent.generate_summary()` invocation.

6. **Output Structure**:
```json
{
  "agent_comments": {
    "TechnicalAnalystAgent": "...",
    "SentimentAnalystAgent": "...",
    "LiquidityAnalystAgent": "...",
    ...
  },
  "system_summary": "...",
  "mood": "bullish | neutral | conflicted | cautious | euphoric"  # optional
}
Logging:

Save the ToneAgent output to logs/tone_summary_{symbol}_{timestamp}.json.

Also print it formatted in the console after TradePlanAgent.

Integration:

Hook ToneAgent into the full trade cycle after TradePlanAgent execution.

If decision_agent.signal == "CONFLICTED" or confidence < 70%, include a more cautious tone in system_summary.

üß† Tone Guide (Simulate Voices)
python
Copy
Edit
tones = {
    "TechnicalAnalystAgent": "Analytical and precise. Likes indicators, rarely exaggerates.",
    "SentimentAnalystAgent": "Emotive, intuitive, speaks in moods. Feels the crowd.",
    "LiquidityAnalystAgent": "Blunt and tactical. Sees the order book like a battlefield.",
    "OpenInterestAnalystAgent": "Cautious, looks for consistency or divergence.",
    "FundingRateAnalystAgent": "Skeptical, sharp. Knows when the herd is paying the wrong price.",
    "SentimentAggregatorAgent": "Strategic and composed. Thinks big picture, macro framing."
}
‚úÖ Example Output (to print & save)
markdown
Copy
Edit
üéôÔ∏è ToneAgent Summary ‚Äî BTC/USDT (4h)

üì£ Agent Voices:
- TechnicalAnalystAgent: ‚ÄúRSI‚Äôs cooling off. Might be early, but I see a setup.‚Äù
- SentimentAnalystAgent: ‚ÄúThe mood is lifting ‚Äî bulls whispering louder.‚Äù
- LiquidityAnalystAgent: ‚ÄúBids are stacked, resistance thin. I like the odds.‚Äù
- OpenInterestAnalystAgent: ‚ÄúNot much shift yet, but watching closely.‚Äù
- FundingRateAnalystAgent: ‚ÄúLongs are heavy. Either it breaks up, or we trap.‚Äù
- SentimentAggregatorAgent: ‚ÄúInstitutions aren‚Äôt sold yet. It‚Äôs balanced.‚Äù

üß† Summary: Growing bullish momentum with strong undercurrents, but not unanimous. Swing trade with a sharp eye on liquidity traps.

‚öôÔ∏è Optional Extensions (Not now, but prepare class with hooks):
Add voice_profiles.json for easy editing

Allow markdown/HTML formatting

Future integration with audio narration (e.g. TTS)